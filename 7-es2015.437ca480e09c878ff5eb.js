(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{xDz6:function(n,l,e){"use strict";e.r(l);var t=e("8Y7J");class i{}var o=e("pMnS"),s=e("SVse"),u=e("5iza"),r=e("s9Uj"),a=e("3RX/"),c=e("2cNf"),d=e("FdbF"),m=e("HHV2"),p=e("cUpR"),h=e("mrSG"),f=(e("dJ3e"),e("a+Vh"));class g{constructor(n){this.questionsArray=[],this.examQuestionNumber=70,n&&Object.assign(this,n),this.startAt=(new Date).getTime(),this.questions={},this.questionsArray=this.initQuestionsArray(),this.score=0,this.finished=!1}finishExam(){this.endAt=(new Date).getTime(),this.finished=!0}initQuestionsArray(){if(this.questionsArray.length===this.examQuestionNumber)return this.questionsArray;{const n=f.a.randomNumberFromInterval(806);return-1===this.questionsArray.indexOf(n)?(this.questionsArray.push(n),this.questionsArray.length===this.examQuestionNumber?this.questionsArray:this.initQuestionsArray()):this.initQuestionsArray()}}}var x=e("XNiG"),b=e("PqYM"),v=e("7o/Q");class w{constructor(n,l){this.predicate=n,this.inclusive=l}call(n,l){return l.subscribe(new y(n,this.predicate,this.inclusive))}}class y extends v.a{constructor(n,l,e){super(n),this.predicate=l,this.inclusive=e,this.index=0}_next(n){const l=this.destination;let e;try{e=this.predicate(n,this.index++)}catch(t){return void l.error(t)}this.nextOrComplete(n,e)}nextOrComplete(n,l){const e=this.destination;Boolean(l)?e.next(n):(this.inclusive&&e.next(n),e.complete())}}var C=e("lJxs");let R=(()=>{class n{constructor(){this.countdownSubject=new x.a,this.isCounting=!1}countdown(){return this.countdownSubject.asObservable()}start(n){this.isCounting||(this.isCounting=!0,Object(b.a)(0,1e3).pipe(function(n,l=!1){return e=>e.lift(new w(n,l))}(l=>l<n),Object(C.a)(l=>n-l)).subscribe(n=>{this.countdownSubject.next(n)},n=>console.log(n),()=>{this.countdownSubject.complete(),this.isCounting=!1,this.countdownSubject=new x.a}))}}return n.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new n},token:n,providedIn:"root"}),n})();var S=e("Bvx0"),k=(e("lUfZ"),e("HrRQ"));class I{constructor(n,l,e,t,i,o,s,u,r,a){this.simpleModalService=n,this.moment=l,this.sync=e,this.countdownService=t,this.prismService=i,this.ngxLoader=o,this.questionService=s,this.toastrService=u,this.location=r,this.router=a,this.markForReviewArray=[]}canExit(){if(this.exam.finished)return!0;{const n=this.simpleModalService.addModal(k.a,{title:"Confirm",message:"Do you wish to finish the current exam?"}).subscribe(n=>!!n&&(this.finishExam(),!0));setTimeout(()=>{n.unsubscribe()},1e4)}}ngOnInit(){const n=this;this.exam=new g;const l=this.moment(this.exam.startAt),e=this.moment(l).add(5400,"seconds");this.subscription=this.countdownService.countdown().subscribe(l=>{3600===l&&this.toastrService.success("You have another hour to finish the exam","Time left"),1800===l&&this.toastrService.success("You have another 30 minutes to finish the exam","Time left"),600===l&&this.toastrService.success("You have another 10 minutes to finish the exam","Time left"),300===l&&this.toastrService.success("You have less than 5 minutes to finish the exam","Times left!"),n.sync.updateCurrentCountdownTime(this.getTimeString(e))},n=>{console.log(n)},()=>{this.finishExam()}),this.countdownService.start(5400),this.toastrService.success("You have 90 minutes to finish your exam. Good luck!","Exam simulation start!")}ngAfterViewChecked(){this.prismService.highlightAll()}getTimeString(n){const l=this.moment(),e=this.moment.duration(n.diff(l));return e.hours().toString().padStart(2,"0")+":"+e.minutes().toString().padStart(2,"0")+":"+e.seconds().toString().padStart(2,"0")}setBtnClasses(n){let l=!1;for(const e in this.exam.questions)this.exam.questions.hasOwnProperty(n)&&(l=!0);return this.index===n?{"btn-danger":!0}:this.index!==n&&-1!==this.markForReviewArray.indexOf(n)?{"btn-warning":!0}:this.index!==n&&l?{"btn-success":!0}:void 0}get questionsArray(){return this.exam.questionsArray}get currentExam(){return this.exam}delay(n){return h.__awaiter(this,void 0,void 0,function*(){yield new Promise(l=>setTimeout(()=>l(),n)).then(()=>this.ngxLoader.stopAll())})}getQuestion(n,l){if(this.ngxLoader.start(),this.updateExamScore(),this.index=l,void 0===this.exam.questions[l]){const e=this;this.questionService.getOneQuestionById(n).subscribe(t=>{const i={id:n,question:t,markForReview:!1,correct:!1};e.exam.questions[l]=i,e.examQuestion=i})}else this.examQuestion=this.exam.questions[l];this.delay(1)}updateExamScore(){void 0!==this.examQuestion&&this.validateEachAnswerRows()}validateEachAnswerRows(){let n=!0;this.examQuestion.question.answerRows.forEach((l,e)=>{n=n&&l.correct===l.userAnswer}),n&&(this.examQuestion.correct=!0)}disabledPrevBtn(){return void 0===this.index||this.index<=0}disabledMarkForReviewBtn(){return void 0===this.index}disabledNextBtn(){return void 0===this.index||this.index>=69}getPrevQuestion(){const n=--this.index;this.getQuestion(this.exam.questionsArray[n],n)}getNextQuestion(){const n=++this.index;this.getQuestion(this.exam.questionsArray[n],n)}markForReview(){const n=this.markForReviewArray.indexOf(this.index);-1===n?this.markForReviewArray.push(this.index):this.markForReviewArray.splice(n,1)}goToHome(){const n=this.location.prepareExternalUrl(this.location.path());-1!==["/exam","/zce/exam"].indexOf(n)&&this.router.navigate(["/home"]).then()}finishExam(){this.exam.finished=!0,this.subscription.unsubscribe();let n=0;for(const e in this.exam.questions)this.exam.questions.hasOwnProperty(e)&&!0===this.exam.questions[e].correct&&n++;const l={closeButton:!0};n>=50?this.toastrService.success("Congratulations you passed the exam!","Exam result!",l).onHidden.subscribe(()=>{this.goToHome()},n=>{console.log(n)},()=>{console.log(`You answered correctly to ${n} questions from 70`)}):this.toastrService.warning("You did not passed the exam!","Exam result!",l).onHidden.subscribe(()=>{this.goToHome()},n=>{console.log(n)},()=>{console.log(`You answered correctly to ${n} questions from 70`)})}}var O=e("xN82"),F=e("NmCd"),A=e("zO6L"),q=e("EApP"),M=e("iInd"),N=t["\u0275crt"]({encapsulation:0,styles:[[".modal[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.4);bottom:0;height:100%;left:0;overflow:hidden;padding:0 16px;position:fixed;right:0;top:0;text-align:center;z-index:10}.modal.fade-anim[_ngcontent-%COMP%]{transition:opacity .4s ease-in-out;will-change:opacity;opacity:0}.modal.fade-anim.in[_ngcontent-%COMP%]{opacity:1}.modal-open[_ngcontent-%COMP%]{overflow:hidden}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;margin:16px auto;max-width:580px;position:relative;transition:opacity .4s ease-in-out;width:100%;will-change:opacity;display:inline-block;text-align:left}.modal-content-size-m[_ngcontent-%COMP%]{max-width:992px}.modal-content-size-l[_ngcontent-%COMP%]{max-width:1200px}.modal-footer[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%]{align-items:center;display:flex;height:56px;padding:0 16px}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #cecece}.modal-body[_ngcontent-%COMP%]{padding:16px}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #cecece}"]],data:{}});function E(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"button",[["class","btn btn-sm btn-primary"],["style","width: 30px"],["type","button"]],[[8,"title",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.getQuestion(n.context.$implicit,n.context.index)&&t),t},null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t["\u0275eld"](3,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""]))],function(n,l){n(l,2,0,"btn btn-sm btn-primary",l.component.setBtnClasses(l.context.index))},function(n,l){n(l,0,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit,"")),n(l,4,0,l.context.index+1)})}function T(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"button",[["class","btn btn-sm btn-primary"],["style","width: 30px"],["type","button"]],[[8,"title",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.getQuestion(n.context.$implicit,n.context.index+35)&&t),t},null,null)),t["\u0275prd"](512,null,s["\u0275NgClassImpl"],s["\u0275NgClassR2Impl"],[t.IterableDiffers,t.KeyValueDiffers,t.ElementRef,t.Renderer2]),t["\u0275did"](2,278528,null,0,s.NgClass,[s["\u0275NgClassImpl"]],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),t["\u0275eld"](3,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),t["\u0275ted"](4,null,["",""]))],function(n,l){n(l,2,0,"btn btn-sm btn-primary",l.component.setBtnClasses(l.context.index+35))},function(n,l){n(l,0,0,t["\u0275inlineInterpolate"](1,"",l.context.$implicit,"")),n(l,4,0,l.context.index+36)})}function P(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","col-lg-12 col-md-12"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,3,"div",[["class","btn-toolbar"],["role","toolbar"],["style","margin: 5px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,2,"div",[["class","btn-group"],["role","group"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,E)),t["\u0275did"](4,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275eld"](5,0,null,null,3,"div",[["class","btn-toolbar"],["role","toolbar"],["style","margin: 5px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](6,0,null,null,2,"div",[["class","btn-group"],["role","group"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,T)),t["\u0275did"](8,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,4,0,e.questionsArray.slice(0,35)),n(l,8,0,e.questionsArray.slice(35,70))},null)}function Q(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-question",[],null,null,null,u.b,u.a)),t["\u0275did"](1,49152,null,0,r.a,[],{questionRow:[0,"questionRow"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function D(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-answer",[],null,null,null,a.b,a.a)),t["\u0275did"](1,49152,null,0,c.a,[],{answerRow:[0,"answerRow"],disabled:[1,"disabled"],i:[2,"i"]},null)],function(n,l){n(l,1,0,l.context.$implicit,l.component.examQuestion.question.finalAnswer,l.context.index)},null)}function j(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,4,"div",[["class","php-container"],["style","margin-top: 50px"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,Q)),t["\u0275did"](2,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,D)),t["\u0275did"](4,278528,null,0,s.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var e=l.component;n(l,2,0,e.examQuestion.question.questionRows),n(l,4,0,e.examQuestion.question.answerRows)},null)}function _(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","col-lg-12 col-md-12"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,j)),t["\u0275did"](3,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,3,0,l.component.examQuestion)},null)}function B(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Mark for review"]))],null,null)}function V(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Unmark for review"]))],null,null)}function L(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,17,"div",[["class","row"],["style","margin-top: 10px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,4,"div",[["class","col-lg-4 col-md-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](2,0,null,null,3,"div",[["class","card"]],null,null,null,null,null)),(n()(),t["\u0275eld"](3,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](4,0,null,null,1,"button",[["class","btn btn-sm btn-primary btn-block"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.getPrevQuestion()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["PREVIEW "])),(n()(),t["\u0275eld"](6,0,null,null,6,"div",[["class","col-lg-4 col-md-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](7,0,null,null,5,"div",[["class","card"]],null,null,null,null,null)),(n()(),t["\u0275eld"](8,0,null,null,4,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](9,0,null,null,3,"button",[["class","btn btn-sm btn-warning btn-block"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.markForReview()&&t),t},null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,B)),t["\u0275did"](11,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),t["\u0275and"](0,[["elseBlock",2]],null,0,null,V)),(n()(),t["\u0275eld"](13,0,null,null,4,"div",[["class","col-lg-4 col-md-4"]],null,null,null,null,null)),(n()(),t["\u0275eld"](14,0,null,null,3,"div",[["class","card"]],null,null,null,null,null)),(n()(),t["\u0275eld"](15,0,null,null,2,"div",[["class","card-footer"]],null,null,null,null,null)),(n()(),t["\u0275eld"](16,0,null,null,1,"button",[["class","btn btn-sm btn-primary btn-block"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.getNextQuestion()&&t),t},null,null)),(n()(),t["\u0275ted"](-1,null,["NEXT "]))],function(n,l){var e=l.component;n(l,11,0,-1===e.markForReviewArray.indexOf(e.index),t["\u0275nov"](l,12))},function(n,l){var e=l.component;n(l,4,0,e.disabledPrevBtn()),n(l,9,0,e.disabledMarkForReviewBtn()),n(l,16,0,e.disabledNextBtn())})}function z(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","row"],["style","margin-top: 50px"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,P)),t["\u0275did"](3,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,_)),t["\u0275did"](5,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,L)),t["\u0275did"](7,16384,null,0,s.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](8,0,null,null,1,"ngx-ui-loader",[],null,null,null,d.b,d.a)),t["\u0275did"](9,770048,null,0,m.f,[p.b,t.ChangeDetectorRef,m.d],null,null)],function(n,l){var e=l.component;n(l,3,0,!e.currentExam.finished),n(l,5,0,!e.currentExam.finished),n(l,7,0,!e.currentExam.finished),n(l,9,0)},null)}function Y(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-exam",[],null,null,null,z,N)),t["\u0275did"](1,8503296,null,0,I,[O.SimpleModalService,"moment",S.a,R,F.a,m.d,A.a,q.j,s.Location,M.o],null,null)],function(n,l){n(l,1,0)},null)}var H=t["\u0275ccf"]("app-exam",I,Y,{},{},[]),$=e("JeY4"),U=e("vjkF"),J=e("oM70"),X=e("/Sf3"),K=e("s7LF"),G=e("IheW");let W=(()=>{class n{canDeactivate(n,l,e,t){return!n.canExit||n.canExit()}}return n.ngInjectableDef=t["\u0275\u0275defineInjectable"]({factory:function(){return new n},token:n,providedIn:"root"}),n})();class Z{}var nn=e("+wA8"),ln=e("PCNd"),en=e("91uq");e.d(l,"ExamModuleNgFactory",function(){return tn});var tn=t["\u0275cmf"](i,[],function(n){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,H,$.a,U.a,J.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[t.LOCALE_ID,[2,s["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](5120,O.SimpleModalService,X.SimpleModalServiceFactory,[t.ComponentFactoryResolver,t.ApplicationRef,t.Injector,O.SimpleModalServiceConfig]),t["\u0275mpd"](4608,I,I,[O.SimpleModalService,"moment",S.a,R,F.a,m.d,A.a,q.j,s.Location,M.o]),t["\u0275mpd"](4608,K.l,K.l,[]),t["\u0275mpd"](4608,K.b,K.b,[]),t["\u0275mpd"](4608,G.h,G.n,[s.DOCUMENT,t.PLATFORM_ID,G.l]),t["\u0275mpd"](4608,G.o,G.o,[G.h,G.m]),t["\u0275mpd"](5120,G.a,function(n){return[n]},[G.o]),t["\u0275mpd"](4608,G.k,G.k,[]),t["\u0275mpd"](6144,G.i,null,[G.k]),t["\u0275mpd"](4608,G.g,G.g,[G.i]),t["\u0275mpd"](6144,G.b,null,[G.g]),t["\u0275mpd"](4608,G.f,G.j,[G.b,t.Injector]),t["\u0275mpd"](4608,G.c,G.c,[G.f]),t["\u0275mpd"](1073742336,s.CommonModule,s.CommonModule,[]),t["\u0275mpd"](1073742336,M.q,M.q,[[2,M.v],[2,M.o]]),t["\u0275mpd"](1073742336,Z,Z,[]),t["\u0275mpd"](1073742336,K.k,K.k,[]),t["\u0275mpd"](1073742336,K.c,K.c,[]),t["\u0275mpd"](1073742336,K.j,K.j,[]),t["\u0275mpd"](1073742336,G.e,G.e,[]),t["\u0275mpd"](1073742336,G.d,G.d,[]),t["\u0275mpd"](1073742336,m.b,m.b,[]),t["\u0275mpd"](1073742336,nn.SimpleModalModule,nn.SimpleModalModule,[]),t["\u0275mpd"](1073742336,ln.a,ln.a,[]),t["\u0275mpd"](1073742336,i,i,[]),t["\u0275mpd"](1024,M.m,function(){return[[{path:"",component:I,canDeactivate:[W]}]]},[]),t["\u0275mpd"](256,O.SimpleModalServiceConfig,{container:null},[]),t["\u0275mpd"](256,G.l,"XSRF-TOKEN",[]),t["\u0275mpd"](256,G.m,"X-XSRF-TOKEN",[]),t["\u0275mpd"](256,en.DefaultSimpleModalOptionConfig,en.defaultSimpleModalOptions,[]),t["\u0275mpd"](256,m.e,{bgsColor:"#00ACC1",bgsOpacity:.5,bgsPosition:"center-center",bgsSize:60,bgsType:"rectangle-bounce-pulse-out",blur:5,fgsColor:"#bc75ea",fgsPosition:"center-center",fgsSize:100,fgsType:"cube-grid",gap:24,logoPosition:"center-center",logoSize:120,logoUrl:"",masterLoaderId:"master",overlayBorderRadius:"0",overlayColor:"rgba(40, 40, 40, 0.8)",pbColor:"#00ACC1",pbDirection:"ltr",pbThickness:3,hasProgressBar:!0,text:"loading ...",textColor:"#FFFFFF",textPosition:"center-center"},[])])})}}]);