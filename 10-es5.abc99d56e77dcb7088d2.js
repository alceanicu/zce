function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Xoj1:function(e,t,n){"use strict";n.r(t),n.d(t,"ExamModule",(function(){return Q}));var i,a=n("ofXK"),r=n("tyNb"),o=n("ey9i"),c=n("2Vo4"),s=n("IzEk"),l=n("wd/R"),u=n("AytR"),d=n("0IaG"),m=n("fXoL"),f=n("bTqV"),x=((i=function(){function e(t,n){_classCallCheck(this,e),this.data=t,this.dialogRef=n,this.message="Are you sure?",this.confirmButtonText="Yes",this.cancelButtonText="Cancel",t&&(this.message=t.message||this.message,t.buttonText&&(this.confirmButtonText=t.buttonText.ok||this.confirmButtonText,this.cancelButtonText=t.buttonText.cancel||this.cancelButtonText))}return _createClass(e,[{key:"onConfirmClick",value:function(){this.dialogRef.close(!0)}}]),e}()).\u0275fac=function(e){return new(e||i)(m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](d.g))},i.\u0275cmp=m["\u0275\u0275defineComponent"]({type:i,selectors:[["app-confirm"]],decls:8,vars:3,consts:[["align","center"],["mat-raised-button","","color","primary","tabindex","1",3,"click"],["mat-raised-button","","mat-dialog-close","","tabindex","-1"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"mat-dialog-content"),m["\u0275\u0275elementStart"](1,"p"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"mat-dialog-actions",0),m["\u0275\u0275elementStart"](4,"button",1),m["\u0275\u0275listener"]("click",(function(){return t.onConfirmClick()})),m["\u0275\u0275text"](5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"button",2),m["\u0275\u0275text"](7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](t.message),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](t.confirmButtonText),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](t.cancelButtonText))},directives:[d.e,d.c,f.b,d.d],encapsulation:2,changeDetection:0}),i),h=n("dJ3e"),p=n("dNgK"),v=n("gren"),g=n("wZkO"),b=n("jaxi"),y=n("TigC"),k=n("Wp6s"),w=n("XiUz"),S=n("NFeN"),C=n("znSr");function E(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"mat-button-toggle",5),m["\u0275\u0275listener"]("change",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](3).clickMark(e)})),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()}if(2&e){var i=t.$implicit,a=m["\u0275\u0275nextContext"](3);m["\u0275\u0275propertyInterpolate"]("aria-label",i+1),m["\u0275\u0275property"]("value",i)("disabled",i===a.currentIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",i+1," ")}}function I(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"mat-button-toggle-group"),m["\u0275\u0275elementStart"](1,"mat-button-toggle",3),m["\u0275\u0275text"](2," Marked for review: "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](3,E,2,4,"mat-button-toggle",4),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngForOf",n.exam.markForReviewArray)}}function T(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275element"](1,"app-question-display",7),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"](3);m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("question",n.exam.questions[n.exam.index])("wasValidated$",n.wasValidated$)}}function F(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"mat-tab",6),m["\u0275\u0275element"](1,"br"),m["\u0275\u0275template"](2,T,2,2,"div",0),m["\u0275\u0275elementEnd"]()),2&e){var n=t.index,i=m["\u0275\u0275nextContext"](2);m["\u0275\u0275property"]("label",n+1),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",null!==i.exam.questions[i.exam.index])}}function V(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1,"Mark for review"),m["\u0275\u0275elementEnd"]())}function B(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1,"Unmark for review"),m["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"mat-card"),m["\u0275\u0275elementStart"](1,"mat-card-content",8),m["\u0275\u0275elementStart"](2,"button",9),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](2).getPrevQuestion()})),m["\u0275\u0275elementStart"](3,"mat-icon"),m["\u0275\u0275text"](4,"navigate_before"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5," PREV "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"button",10),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](2).markForReview()})),m["\u0275\u0275template"](7,V,2,0,"span",11),m["\u0275\u0275template"](8,B,2,0,"ng-template",null,12,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"button",9),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"](2).getNextQuestion()})),m["\u0275\u0275text"](11," NEXT "),m["\u0275\u0275elementStart"](12,"mat-icon"),m["\u0275\u0275text"](13,"navigate_next"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275reference"](9),a=m["\u0275\u0275nextContext"](2);m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("disabled",a.isDisabledPrevBtn),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("disabled",a.isDisabledMarkForReviewBtn),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",-1===a.exam.markForReviewArray.indexOf(a.currentIndex))("ngIfElse",i),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("disabled",a.isDisabledNextBtn)}}function j(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275template"](1,I,4,1,"mat-button-toggle-group",0),m["\u0275\u0275elementStart"](2,"mat-tab-group",1),m["\u0275\u0275listener"]("selectedTabChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().tabClick(e)})),m["\u0275\u0275template"](3,F,3,2,"mat-tab",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](4,R,14,5,"mat-card",0),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",i.hasMarkForReview),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("selectedIndex",i.currentIndex),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",i.exam.questionsArray),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null!==i.exam.questions[i.exam.index])}}function P(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1,"Mark for review"),m["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1,"Unmark for review"),m["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"mat-card"),m["\u0275\u0275elementStart"](1,"mat-card-content",13),m["\u0275\u0275elementStart"](2,"button",14),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().goToHome()})),m["\u0275\u0275elementStart"](3,"span"),m["\u0275\u0275text"](4,"Finish Exam"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"button",15),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().markForReview()})),m["\u0275\u0275template"](6,P,2,0,"span",11),m["\u0275\u0275template"](7,L,2,0,"ng-template",null,12,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var i=m["\u0275\u0275reference"](8),a=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("disabled",a.isDisabledMarkForReviewBtn),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",-1===a.exam.markForReviewArray.indexOf(a.currentIndex))("ngIfElse",i)}}var A,M,N,q=new h.c("ExamComponent"),_=[{path:"",component:(A=function(){function e(t,n,i,a,r,o,s,l,u){_classCallCheck(this,e),this.router=t,this.dialog=n,this.snackBar=i,this.prismService=a,this.questionService=r,this.countdownService=o,this.ngxUiLoaderService=s,this.syncLocationService=l,this.syncCountdownTimeService=u,this.isPageHighlighted=!1,this.wasValidated$=new c.a(!1),this.wasValidated$.next(!1)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.exam=new o.a;var t=l(this.exam.startAt),n=l(t).add(u.a.configPHP.examTime,"seconds");this.countdownSubscription=this.countdownService.countdown().subscribe((function(t){var i="";switch(t){case 3600:i="You have 1 hour to finish the exam";break;case 1800:i="You have another 30 minutes to finish the exam";break;case 600:i="You have another 10 minutes to finish the exam";break;case 300:i="You have less than 5 minutes to finish the exam";break;default:i=""}""!==i&&e.openSnackBar(i,"info-snackbar");var a=e.syncCountdownTimeService.getValue();a.time=e.getTimeString(n),e.syncCountdownTimeService.setValue(a)}),(function(e){return q.error(e)}),(function(){return e.finishExam()})),this.countdownService.start(u.a.configPHP.examTime),this.syncLocationSubscription=this.syncLocationService.currentValue.subscribe((function(t){e.currentRoute=t})),this.openSnackBar("You have 90 minutes to finish your exam. Good luck!","info-snackbar"),this.getQuestion(0)}},{key:"ngAfterViewChecked",value:function(){var e=this;null===this.exam.questions[this.exam.index]||this.isPageHighlighted||this.prismService.highlightAll().finally((function(){return e.isPageHighlighted=!0}))}},{key:"ngOnDestroy",value:function(){q.info("ngOnDestroy"),this.syncCountdownTimeService.clear(),this.countdownSubscription.unsubscribe(),this.syncLocationSubscription.unsubscribe()}},{key:"canExit",value:function(){var e=this;if(this.exam.isFinished)return!0;this.dialog.open(x,{data:{message:"Do you wish to finish the current exam?",buttonText:{ok:"YES",cancel:"NO"}}}).afterClosed().subscribe((function(t){return!!t&&(e.finishExam(),!0)}))}},{key:"clickMark",value:function(e){this.getQuestion(e.value)}},{key:"tabClick",value:function(e){this.getQuestion(e.index)}},{key:"getPrevQuestion",value:function(){--this.exam.index}},{key:"getNextQuestion",value:function(){++this.exam.index}},{key:"markForReview",value:function(){this.exam.markForReview()}},{key:"goToHome",value:function(){-1!==["/exam"].indexOf(this.currentRoute)&&this.router.navigate(["/home"]).then((function(e){e&&q.info("Go to home page")}))}},{key:"finishExam",value:function(){this.exam.finish(),this.router.navigate(["/home"],{state:{score:this.exam.score}}).then((function(e){e&&q.info("Go to home page")}))}},{key:"getQuestion",value:function(e){var t=this;window.scrollTo(0,0),this.ngxUiLoaderService.start(),this.isPageHighlighted=!1,this.exam.index=e,null===this.exam.questions[e]?this.questionService.getOneQuestionById(this.exam.questionsArray[e]).pipe(Object(s.a)(1)).subscribe((function(n){return t.exam.setQuestion(e,n)}),(function(e){return q.error(e)}),(function(){return setTimeout((function(){return t.ngxUiLoaderService.stopAll()}),350)})):setTimeout((function(){return t.ngxUiLoaderService.stopAll()}),350)}},{key:"getTimeString",value:function(e){var t=l(),n=l.duration(e.diff(t));return n.hours().toString().padStart(2,"0")+":"+n.minutes().toString().padStart(2,"0")+":"+n.seconds().toString().padStart(2,"0")}},{key:"openSnackBar",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"close";this.snackBar.open(e,n,{duration:5e3,panelClass:[t]})}},{key:"currentIndex",get:function(){return this.exam.index}},{key:"isDisabledPrevBtn",get:function(){return void 0===this.exam.index||this.exam.index<=0}},{key:"isDisabledNextBtn",get:function(){return void 0===this.exam.index||this.exam.index>=u.a.configPHP.examSize-1}},{key:"isDisabledMarkForReviewBtn",get:function(){return void 0===this.exam.index}},{key:"hasMarkForReview",get:function(){return this.exam.markForReviewArray.length>0}}]),e}(),A.\u0275fac=function(e){return new(e||A)(m["\u0275\u0275directiveInject"](r.f),m["\u0275\u0275directiveInject"](d.b),m["\u0275\u0275directiveInject"](p.a),m["\u0275\u0275directiveInject"](h.d),m["\u0275\u0275directiveInject"](h.e),m["\u0275\u0275directiveInject"](h.a),m["\u0275\u0275directiveInject"](v.b),m["\u0275\u0275directiveInject"](h.h),m["\u0275\u0275directiveInject"](h.g))},A.\u0275cmp=m["\u0275\u0275defineComponent"]({type:A,selectors:[["app-exam"]],decls:3,vars:2,consts:[[4,"ngIf"],["color","accent","backgroundColor","accent",3,"selectedIndex","selectedTabChange"],[3,"label",4,"ngFor","ngForOf"],["disabled","","aria-label","Mark for review"],[3,"value","aria-label","disabled","change",4,"ngFor","ngForOf"],[3,"value","aria-label","disabled","change"],[3,"label"],[3,"question","wasValidated$"],["fxLayout","row","fxLayoutAlign","space-between stretch","fxLayoutGap","5px"],["mat-flat-button","","color","primary","type","button","fxFlex","32","fxFlex.xs","48",3,"disabled","click"],["mat-flat-button","","color","accent","type","button","fxFlex","32","fxHide.xs","true",3,"disabled","click"],[4,"ngIf","ngIfElse"],["elseBlock",""],["fxLayout","column","fxLayout.xs","row","fxLayoutAlign","space-between stretch","fxLayoutGap","5px"],["mat-flat-button","","color","warn","type","button","fxFlex","100","fxFlex.xs","48",3,"click"],["mat-flat-button","","color","accent","type","button","fxFlex","48","fxHide.gt-xs","true",3,"disabled","click"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,j,5,4,"div",0),m["\u0275\u0275template"](1,O,9,3,"mat-card",0),m["\u0275\u0275element"](2,"ngx-ui-loader")),2&e&&(m["\u0275\u0275property"]("ngIf",!t.exam.isFinished),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.exam.isFinished))},directives:[a.NgIf,v.c,g.b,a.NgForOf,b.b,b.a,g.a,y.a,k.a,k.b,w.e,w.d,w.f,f.b,w.b,S.a,C.b],encapsulation:2}),A),canDeactivate:[o.b],data:{title:"ZCE - Exam"}},{path:"**",redirectTo:"/home",data:{title:"ZCE"}}],D=((M=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[r.j.forChild(_)],r.j]}),M),H=n("PCNd"),Q=((N=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},imports:[[a.CommonModule,H.a,D]]}),N)}}]);