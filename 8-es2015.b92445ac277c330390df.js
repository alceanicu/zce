(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{o7QI:function(e,t,n){"use strict";n.r(t),n.d(t,"PrepareModule",(function(){return j}));var i=n("ofXK"),s=n("tyNb"),r=n("XNiG"),o=n("2Vo4"),a=n("1G5W"),c=n("IzEk"),u=n("dJ3e"),d=n("oUed"),l=n("fXoL"),p=n("gren"),h=n("dNgK"),f=n("TigC"),m=n("Wp6s"),g=n("XiUz"),v=n("5N9J"),b=n("W0Cy"),y=n("bTqV");function S(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-question-checkbox",4),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("question",e.question)("wasValidated$",e.wasValidated$)}}function w(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-question-radio",4),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"](2);l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("question",e.question)("wasValidated$",e.wasValidated$)}}function x(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"button",5),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"](2).onValidate()})),l["\u0275\u0275text"](1," Validate "),l["\u0275\u0275elementEnd"]()}}function q(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"div"),l["\u0275\u0275element"](1,"app-question-display",1),l["\u0275\u0275template"](2,S,2,2,"div",0),l["\u0275\u0275template"](3,w,2,2,"div",0),l["\u0275\u0275elementStart"](4,"mat-card"),l["\u0275\u0275elementStart"](5,"mat-card-content",2),l["\u0275\u0275template"](6,x,2,0,"button",3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("question",e.question),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.question.type===e.PhpQuestionType.CHECKBOX),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",e.question.type===e.PhpQuestionType.RADIO),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("ngIf",!e.question._isValidated)}}const C=new u.c("PrepareComponent"),V=[{path:"",component:(()=>{class e{constructor(e,t,n,i,s){this.ngxUiLoaderService=e,this.syncScoreService=t,this.questionService=n,this.prismService=i,this.snackBar=s,this.question=null,this.PhpQuestionType=d.c,this.isPageHighlighted=!1,this.unsubscribe$=new r.a,this.wasValidated$=new o.a(!1),this.wasValidated$.next(!1)}ngOnInit(){this.syncScoreService.currentValue.pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>this.score=e,e=>C.error(e)),this.getRandomQuestion()}ngAfterViewChecked(){null===this.question||this.isPageHighlighted||this.prismService.highlightAll().finally(()=>this.isPageHighlighted=!0)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}getRandomQuestion(){this.reset(),this.questionService.getQuestion(1).pipe(Object(c.a)(1)).subscribe(e=>this.question=e,e=>C.error(e),()=>setTimeout(()=>this.ngxUiLoaderService.stopAll(),350))}onValidate(){const e=this.question.validate(!0);let t="WRONG",n="error-snackbar";e&&(t="CORRECT",n="success-snackbar"),this.syncScoreService.setValue(this.updateScore(e)),this.wasValidated$.next(!0),this.openSnackBar(`Your answer is: ${t}`,n)}reset(){window.scrollTo(0,0),this.question=null,this.ngxUiLoaderService.start(),this.isPageHighlighted=!1}updateScore(e){return this.score=this.syncScoreService.getValue(),++this.score.total,e&&++this.score.correct,this.score.percentage=Math.floor(100*this.score.correct/this.score.total),this.score}openSnackBar(e,t,n="next question"){this.snackBar.open(e,n,{duration:1e4,panelClass:[t]}).afterDismissed().subscribe(e=>C.info(e),e=>C.error(e),()=>this.getRandomQuestion())}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](p.b),l["\u0275\u0275directiveInject"](u.i),l["\u0275\u0275directiveInject"](u.e),l["\u0275\u0275directiveInject"](u.d),l["\u0275\u0275directiveInject"](h.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-prepare"]],decls:2,vars:1,consts:[[4,"ngIf"],[3,"question"],["fxLayout","column"],["fxFlex","100","mat-flat-button","","color","accent",3,"click",4,"ngIf"],[3,"question","wasValidated$"],["fxFlex","100","mat-flat-button","","color","accent",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,q,7,4,"div",0),l["\u0275\u0275element"](1,"ngx-ui-loader")),2&e&&l["\u0275\u0275property"]("ngIf",null!==t.question)},directives:[i.NgIf,p.c,f.a,m.a,m.b,g.e,v.a,b.a,y.b,g.b],encapsulation:2}),e})(),data:{title:"ZCE - prepare"}},{path:"**",redirectTo:"/home",data:{title:"ZCE"}}];let I=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.j.forChild(V)],s.j]}),e})();var k=n("PCNd");let j=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,k.a,I]]}),e})()},oUed:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return r}));var i=function(e){return e.CHECKBOX="checkbox",e.RADIO="radio",e.TEXT="text",e}({}),s=function(e){return e[e.A=0]="A",e[e.B=1]="B",e[e.C=2]="C",e[e.D=3]="D",e}({}),r=function(e){return e.NONE="none",e.PHP="php",e.SQL="sql",e.XML="xml",e.JSON="json",e.HTML="html",e}({})}}]);